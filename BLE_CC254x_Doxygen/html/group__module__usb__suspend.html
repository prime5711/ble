<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>TI_BLE: USB Suspend (usbsusp)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TI_BLE
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__module__usb__suspend.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">USB Suspend (usbsusp)</div>  </div>
</div><!--header-->
<div class="contents">

<p>This module contains the functionality for USB suspend, USB resume and USB remote wakeup.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga29d700c9829a3cd54d5698072df0815d"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__module__usb__suspend.html#ga29d700c9829a3cd54d5698072df0815d">VFPTR</a> )(void)</td></tr>
<tr class="separator:ga29d700c9829a3cd54d5698072df0815d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga29d700c9829a3cd54d5698072df0815d"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__module__usb__suspend.html#ga29d700c9829a3cd54d5698072df0815d">VFPTR</a> )(void)</td></tr>
<tr class="separator:ga29d700c9829a3cd54d5698072df0815d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga6c790dd9d715d34ea58f1bc1295eb40c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___h_a_l___t_y_p_e_s.html#gadde6aaee8457bee49c2a92621fe22b79">uint8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__module__usb__suspend.html#ga6c790dd9d715d34ea58f1bc1295eb40c">usbsuspDoRemoteWakeup</a> (void)</td></tr>
<tr class="memdesc:ga6c790dd9d715d34ea58f1bc1295eb40c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempts USB remote wakeup.  <a href="#ga6c790dd9d715d34ea58f1bc1295eb40c">More...</a><br /></td></tr>
<tr class="separator:ga6c790dd9d715d34ea58f1bc1295eb40c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga60a0bd8dd13ac92f4f41a9b5e96c587a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__module__usb__suspend.html#ga60a0bd8dd13ac92f4f41a9b5e96c587a">usbsuspEnter</a> (void)</td></tr>
<tr class="separator:ga60a0bd8dd13ac92f4f41a9b5e96c587a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3f2c99660148c5252cd660ea048d7cdc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__module__usb__suspend.html#ga3f2c99660148c5252cd660ea048d7cdc">usbsuspStopPm1</a> (void)</td></tr>
<tr class="separator:ga3f2c99660148c5252cd660ea048d7cdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga7f2f5ec1c3ff7acd05858f8a50a6d14e"><td class="memItemLeft" align="right" valign="top">__xdata <a class="el" href="group__module__usb__suspend.html#ga29d700c9829a3cd54d5698072df0815d">VFPTR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__module__usb__suspend.html#ga7f2f5ec1c3ff7acd05858f8a50a6d14e">pFnSuspendEnterHook</a> = <a class="el" href="_projects_2ble_2util_2_u_b_l_2soc__8051_2usb__msd_2hal_2hal__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td></tr>
<tr class="separator:ga7f2f5ec1c3ff7acd05858f8a50a6d14e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga51fbf847696a82b9071db3e535a4e9ca"><td class="memItemLeft" align="right" valign="top">__xdata <a class="el" href="group__module__usb__suspend.html#ga29d700c9829a3cd54d5698072df0815d">VFPTR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__module__usb__suspend.html#ga51fbf847696a82b9071db3e535a4e9ca">pFnSuspendExitHook</a> = <a class="el" href="_projects_2ble_2util_2_u_b_l_2soc__8051_2usb__msd_2hal_2hal__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td></tr>
<tr class="separator:ga51fbf847696a82b9071db3e535a4e9ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7f2f5ec1c3ff7acd05858f8a50a6d14e"><td class="memItemLeft" align="right" valign="top">__xdata <a class="el" href="group__module__usb__suspend.html#ga29d700c9829a3cd54d5698072df0815d">VFPTR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__module__usb__suspend.html#ga7f2f5ec1c3ff7acd05858f8a50a6d14e">pFnSuspendEnterHook</a> = <a class="el" href="_projects_2ble_2util_2_u_b_l_2soc__8051_2usb__msd_2hal_2hal__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td></tr>
<tr class="separator:ga7f2f5ec1c3ff7acd05858f8a50a6d14e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga51fbf847696a82b9071db3e535a4e9ca"><td class="memItemLeft" align="right" valign="top">__xdata <a class="el" href="group__module__usb__suspend.html#ga29d700c9829a3cd54d5698072df0815d">VFPTR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__module__usb__suspend.html#ga51fbf847696a82b9071db3e535a4e9ca">pFnSuspendExitHook</a> = <a class="el" href="_projects_2ble_2util_2_u_b_l_2soc__8051_2usb__msd_2hal_2hal__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td></tr>
<tr class="separator:ga51fbf847696a82b9071db3e535a4e9ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7f2f5ec1c3ff7acd05858f8a50a6d14e"><td class="memItemLeft" align="right" valign="top">__xdata <a class="el" href="group__module__usb__suspend.html#ga29d700c9829a3cd54d5698072df0815d">VFPTR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__module__usb__suspend.html#ga7f2f5ec1c3ff7acd05858f8a50a6d14e">pFnSuspendEnterHook</a></td></tr>
<tr class="separator:ga7f2f5ec1c3ff7acd05858f8a50a6d14e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga51fbf847696a82b9071db3e535a4e9ca"><td class="memItemLeft" align="right" valign="top">__xdata <a class="el" href="group__module__usb__suspend.html#ga29d700c9829a3cd54d5698072df0815d">VFPTR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__module__usb__suspend.html#ga51fbf847696a82b9071db3e535a4e9ca">pFnSuspendExitHook</a></td></tr>
<tr class="separator:ga51fbf847696a82b9071db3e535a4e9ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7f2f5ec1c3ff7acd05858f8a50a6d14e"><td class="memItemLeft" align="right" valign="top">__xdata <a class="el" href="group__module__usb__suspend.html#ga29d700c9829a3cd54d5698072df0815d">VFPTR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__module__usb__suspend.html#ga7f2f5ec1c3ff7acd05858f8a50a6d14e">pFnSuspendEnterHook</a></td></tr>
<tr class="separator:ga7f2f5ec1c3ff7acd05858f8a50a6d14e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga51fbf847696a82b9071db3e535a4e9ca"><td class="memItemLeft" align="right" valign="top">__xdata <a class="el" href="group__module__usb__suspend.html#ga29d700c9829a3cd54d5698072df0815d">VFPTR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__module__usb__suspend.html#ga51fbf847696a82b9071db3e535a4e9ca">pFnSuspendExitHook</a></td></tr>
<tr class="separator:ga51fbf847696a82b9071db3e535a4e9ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7f2f5ec1c3ff7acd05858f8a50a6d14e"><td class="memItemLeft" align="right" valign="top">__xdata <a class="el" href="group__module__usb__suspend.html#ga29d700c9829a3cd54d5698072df0815d">VFPTR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__module__usb__suspend.html#ga7f2f5ec1c3ff7acd05858f8a50a6d14e">pFnSuspendEnterHook</a> = <a class="el" href="_projects_2ble_2util_2_u_b_l_2soc__8051_2usb__msd_2hal_2hal__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td></tr>
<tr class="separator:ga7f2f5ec1c3ff7acd05858f8a50a6d14e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga51fbf847696a82b9071db3e535a4e9ca"><td class="memItemLeft" align="right" valign="top">__xdata <a class="el" href="group__module__usb__suspend.html#ga29d700c9829a3cd54d5698072df0815d">VFPTR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__module__usb__suspend.html#ga51fbf847696a82b9071db3e535a4e9ca">pFnSuspendExitHook</a> = <a class="el" href="_projects_2ble_2util_2_u_b_l_2soc__8051_2usb__msd_2hal_2hal__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td></tr>
<tr class="separator:ga51fbf847696a82b9071db3e535a4e9ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This module contains the functionality for USB suspend, USB resume and USB remote wakeup. </p>
<p>All USB devices must support the suspended state to fully comply with the USB specification. Special care must be taken to implement this functionality correctly, so follow the instructions below carefully. Refer to the USB specification for detailed information on current consumption in suspend mode (how power consumption shall be measured, averaging, peak value etc.).</p>
<h1><a class="anchor" id="usb_suspend_resume"></a>
USB Suspend and Resume</h1>
<p>If there is no activity on the USB bus for a period longer than 3 ms, the MCU will generate a <a class="el" href="group__module__usb__interrupt.html#ga3c17c548fb90155e62484390952e77b2">USBIRQ_EVENT_SUSPEND</a> event. The USB device must then enter suspend mode within 10 ms, where it draws no more than: </p><ul>
<li>500 uA for low-power devices or high-power devices operating at lower-power </li>
<li>2.5 mA for high-power devices with remote wake-up enabled</li>
</ul>
<p>The library supports the USB suspend and resume functionality through a simple interface: </p><ul>
<li>Make sure that the 48 MHz XOSC is never turned off anywhere in the application. </li>
<li>In the call to <a class="el" href="group__module__usb__interrupt.html#ga5180d284bc4704d1eeca0d5d2ecf59d5">usbirqInit()</a>, add <a class="el" href="group__module__usb__interrupt.html#ga3c17c548fb90155e62484390952e77b2">USBIRQ_EVENT_SUSPEND</a> and <a class="el" href="group__module__usb__interrupt.html#ga906e993fec02aebab74d6d337cfce0c6">USBIRQ_EVENT_RESUME</a> (optional) to the interrupt mask. </li>
<li>Do NOT process <a class="el" href="group__module__usb__interrupt.html#ga3c17c548fb90155e62484390952e77b2">USBIRQ_EVENT_SUSPEND</a> in <a class="el" href="group__module__usb__interrupt.html#gaf446e4483910d2118425ffd7be1dde98">usbirqHookProcessEvents()</a> or in any other interrupt service routine. This may (or in most cases will) prevent the USB device from getting out of suspend mode.</li>
</ul>
<ul>
<li>In the main loop, add the code shown below. Make sure that this code is visited at least every 10 ms. If the worst-case path through the main loop uses more than 10 ms, the code block can be inserted in multiple places in the loop until the requirement is met. <div class="fragment"><div class="line"><span class="comment">// Process USB suspend events</span></div>
<div class="line"><span class="keywordflow">if</span> (<a class="code" href="group__module__usb__interrupt.html#ga17710f5ec47aa81de71d143b28bd898a">USBIRQ_GET_EVENT_MASK</a>() &amp; <a class="code" href="group__module__usb__interrupt.html#ga3c17c548fb90155e62484390952e77b2">USBIRQ_EVENT_SUSPEND</a>) {</div>
<div class="line"></div>
<div class="line">   <span class="comment">// Clear the suspend event</span></div>
<div class="line">   <a class="code" href="group__module__usb__interrupt.html#gada394874168e7478dfe565ea893aba1a">USBIRQ_CLEAR_EVENTS</a>(<a class="code" href="group__module__usb__interrupt.html#ga3c17c548fb90155e62484390952e77b2">USBIRQ_EVENT_SUSPEND</a>);</div>
<div class="line"></div>
<div class="line">   ... Do what needs to be done before entering power mode 1 here (e.g. turn off the radio, configure</div>
<div class="line">       I/O to minimize power consumption, start the sleep timer etc.) ...</div>
<div class="line"></div>
<div class="line">   <span class="comment">// This function call will take the USB device into power mode 1. It will not return until resume</span></div>
<div class="line">   <span class="comment">// signaling has been detected on the bus, or the remote wake-up function has been used. Other</span></div>
<div class="line">   <span class="comment">// interrupts (for instance from I/O ports or the sleep timer) can be used during this period. When</span></div>
<div class="line">   <span class="comment">// returning from these interrupts, the \ref usbsuspEnter() function (running here) will put the</span></div>
<div class="line">   <span class="comment">// MCU back into power mode 1.</span></div>
<div class="line">   <a class="code" href="group__module__usb__suspend.html#ga60a0bd8dd13ac92f4f41a9b5e96c587a">usbsuspEnter</a>();</div>
<div class="line"></div>
<div class="line">   <span class="comment">// At this point the event handler is up and running again. Clear the resume event.</span></div>
<div class="line">   <a class="code" href="group__module__usb__interrupt.html#gada394874168e7478dfe565ea893aba1a">USBIRQ_CLEAR_EVENTS</a>(<a class="code" href="group__module__usb__interrupt.html#ga906e993fec02aebab74d6d337cfce0c6">USBIRQ_EVENT_RESUME</a>);</div>
<div class="line"></div>
<div class="line">   ... If a <a class="code" href="group__module__usb__interrupt.html#gafda2fbe9485edfe05c7fedf06abfce61">USBIRQ_EVENT_RESET</a> <span class="keyword">event</span> will affect the code that follows (before the event is processed</div>
<div class="line">       elsewhere), then make sure to handle it here also ...</div>
<div class="line"></div>
<div class="line">   ... Do what needs to be done to wake up from suspend mode (e.g. turn on the radio, reactivate I/O</div>
<div class="line">       and peripherals, turn off the sleep timer ...</div>
<div class="line">}</div>
</div><!-- fragment --></li>
</ul>
<ul>
<li>All interrupts that run during suspension mode must start with the following code: <div class="fragment"><div class="line"><span class="keywordflow">while</span> (!XOSC_STABLE);</div>
</div><!-- fragment --></li>
</ul>
<h1><a class="anchor" id="usb_remote_wakeup"></a>
USB Remote Wakeup:</h1>
<p>Remote wakeup should be used when the USB device desires to initiate the resume process and wake up the host. In a radio application this may happen when a particular radio packet is received, for instance from a wireless keyboard or mouse.</p>
<p>USB remote wakeup can only be performed if the host has given the device the privilege to do so. The privilege to perform remote wakeup is requested by setting bit 5 in the <code>bmAttributes</code> field in the <a class="el" href="struct_u_s_b___c_o_n_f_i_g_u_r_a_t_i_o_n___d_e_s_c_r_i_p_t_o_r.html">USB_CONFIGURATION_DESCRIPTOR</a>. The host will then grant or recall the privilege through a SET_FEATURE request, which is communicated through a <a class="el" href="group__module__usb__standard__requests.html#gaa5a5c634650bd21b833fb0692849783c">USBSR_EVENT_REMOTE_WAKEUP_ENABLED</a> or <a class="el" href="group__module__usb__standard__requests.html#ga22b0879cc511a0f2692ffdb70f0c5d2a">USBSR_EVENT_REMOTE_WAKEUP_DISABLED</a> event, respectively.</p>
<p>The USB library handles the remote wakeup sequence automatically. Do the following to incorporate it into the application: </p><ul>
<li>Implement suspend and resume as described above. </li>
<li>In the USB descriptor, set bit 5 in bmAttributes in the configuration descriptor. </li>
<li>While the USB MCU is in USB suspend mode, remote wakeup can be performed from interrupt context (e.g. the sleep timer interrupt) by calling <a class="el" href="group__module__usb__suspend.html#ga6c790dd9d715d34ea58f1bc1295eb40c">usbsuspDoRemoteWakeup()</a>. This function will return TRUE if successful or FALSE if remote wakeup is not permitted (by the host). </li>
</ul>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ga29d700c9829a3cd54d5698072df0815d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* VFPTR)(void)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_components_2hal_2target_2_c_c2540_u_s_b_2usb_2library_2usb__suspend_8h_source.html#l00092">92</a> of file <a class="el" href="_components_2hal_2target_2_c_c2540_u_s_b_2usb_2library_2usb__suspend_8h_source.html">usb_suspend.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga29d700c9829a3cd54d5698072df0815d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* VFPTR)(void)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_projects_2ble_2util_2_u_b_l_2soc__8051_2usb__msd_2hal_2usb_2library_2usb__suspend_8h_source.html#l00092">92</a> of file <a class="el" href="_projects_2ble_2util_2_u_b_l_2soc__8051_2usb__msd_2hal_2usb_2library_2usb__suspend_8h_source.html">usb_suspend.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga6c790dd9d715d34ea58f1bc1295eb40c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___h_a_l___t_y_p_e_s.html#gadde6aaee8457bee49c2a92621fe22b79">uint8</a> usbsuspDoRemoteWakeup </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attempts USB remote wakeup. </p>
<p>This function can be called from interrupt context while the USB device is suspend mode. If the device is privileged to do so (see <code>usbfwData.remoteWakeup</code> and the <a class="el" href="group__module__usb__standard__requests.html#gaa5a5c634650bd21b833fb0692849783c">USBSR_EVENT_REMOTE_WAKEUP_ENABLED</a> and <a class="el" href="group__module__usb__standard__requests.html#ga22b0879cc511a0f2692ffdb70f0c5d2a">USBSR_EVENT_REMOTE_WAKEUP_DISABLED</a> events), remote wakeup will be performed. Note that this function will block for 10 ms while the resume signal is set on the bus. Note: This function can only be called when the 48 MHz XOSC is stable.</p>
<dl class="section return"><dt>Returns</dt><dd><code>TRUE</code> if the remote wakeup was performed (the privilege had been granted), otherwise <code>FALSE</code> (the device is still in suspend mode). </dd></dl>

<p>Definition at line <a class="el" href="_components_2hal_2target_2_c_c2540_u_s_b_2usb_2library_2cc2540_2usb__suspend_8c_source.html#l00076">76</a> of file <a class="el" href="_components_2hal_2target_2_c_c2540_u_s_b_2usb_2library_2cc2540_2usb__suspend_8c_source.html">usb_suspend.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga60a0bd8dd13ac92f4f41a9b5e96c587a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void usbsuspEnter </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga3f2c99660148c5252cd660ea048d7cdc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void usbsuspStopPm1 </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ga7f2f5ec1c3ff7acd05858f8a50a6d14e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__xdata <a class="el" href="group__module__usb__suspend.html#ga29d700c9829a3cd54d5698072df0815d">VFPTR</a> pFnSuspendEnterHook = <a class="el" href="_projects_2ble_2util_2_u_b_l_2soc__8051_2usb__msd_2hal_2hal__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_components_2hal_2target_2_c_c2540_u_s_b_2usb_2library_2cc2540__hid_2usb__suspend_8c_source.html#l00015">15</a> of file <a class="el" href="_components_2hal_2target_2_c_c2540_u_s_b_2usb_2library_2cc2540__hid_2usb__suspend_8c_source.html">usb_suspend.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga7f2f5ec1c3ff7acd05858f8a50a6d14e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__xdata <a class="el" href="group__module__usb__suspend.html#ga29d700c9829a3cd54d5698072df0815d">VFPTR</a> pFnSuspendEnterHook = <a class="el" href="_projects_2ble_2util_2_u_b_l_2soc__8051_2usb__msd_2hal_2hal__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_projects_2ble_2util_2_u_b_l_2soc__8051_2usb__msd_2hal_2usb_2usb__suspend_8c_source.html#l00015">15</a> of file <a class="el" href="_projects_2ble_2util_2_u_b_l_2soc__8051_2usb__msd_2hal_2usb_2usb__suspend_8c_source.html">usb_suspend.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga7f2f5ec1c3ff7acd05858f8a50a6d14e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__xdata <a class="el" href="group__module__usb__suspend.html#ga29d700c9829a3cd54d5698072df0815d">VFPTR</a> pFnSuspendEnterHook = <a class="el" href="_projects_2ble_2util_2_u_b_l_2soc__8051_2usb__msd_2hal_2hal__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_components_2hal_2target_2_c_c2540_u_s_b_2usb_2library_2cc2540_2usb__suspend_8c_source.html#l00016">16</a> of file <a class="el" href="_components_2hal_2target_2_c_c2540_u_s_b_2usb_2library_2cc2540_2usb__suspend_8c_source.html">usb_suspend.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga7f2f5ec1c3ff7acd05858f8a50a6d14e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__xdata <a class="el" href="group__module__usb__suspend.html#ga29d700c9829a3cd54d5698072df0815d">VFPTR</a> pFnSuspendEnterHook</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_components_2hal_2target_2_c_c2540_u_s_b_2usb_2library_2cc2540_2usb__suspend_8c_source.html#l00016">16</a> of file <a class="el" href="_components_2hal_2target_2_c_c2540_u_s_b_2usb_2library_2cc2540_2usb__suspend_8c_source.html">usb_suspend.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga7f2f5ec1c3ff7acd05858f8a50a6d14e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__xdata <a class="el" href="group__module__usb__suspend.html#ga29d700c9829a3cd54d5698072df0815d">VFPTR</a> pFnSuspendEnterHook</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_components_2hal_2target_2_c_c2540_u_s_b_2usb_2library_2cc2540_2usb__suspend_8c_source.html#l00016">16</a> of file <a class="el" href="_components_2hal_2target_2_c_c2540_u_s_b_2usb_2library_2cc2540_2usb__suspend_8c_source.html">usb_suspend.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga51fbf847696a82b9071db3e535a4e9ca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__xdata <a class="el" href="group__module__usb__suspend.html#ga29d700c9829a3cd54d5698072df0815d">VFPTR</a> pFnSuspendExitHook = <a class="el" href="_projects_2ble_2util_2_u_b_l_2soc__8051_2usb__msd_2hal_2hal__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_projects_2ble_2util_2_u_b_l_2soc__8051_2usb__msd_2hal_2usb_2usb__suspend_8c_source.html#l00016">16</a> of file <a class="el" href="_projects_2ble_2util_2_u_b_l_2soc__8051_2usb__msd_2hal_2usb_2usb__suspend_8c_source.html">usb_suspend.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga51fbf847696a82b9071db3e535a4e9ca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__xdata <a class="el" href="group__module__usb__suspend.html#ga29d700c9829a3cd54d5698072df0815d">VFPTR</a> pFnSuspendExitHook = <a class="el" href="_projects_2ble_2util_2_u_b_l_2soc__8051_2usb__msd_2hal_2hal__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_components_2hal_2target_2_c_c2540_u_s_b_2usb_2library_2cc2540__hid_2usb__suspend_8c_source.html#l00016">16</a> of file <a class="el" href="_components_2hal_2target_2_c_c2540_u_s_b_2usb_2library_2cc2540__hid_2usb__suspend_8c_source.html">usb_suspend.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga51fbf847696a82b9071db3e535a4e9ca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__xdata <a class="el" href="group__module__usb__suspend.html#ga29d700c9829a3cd54d5698072df0815d">VFPTR</a> pFnSuspendExitHook = <a class="el" href="_projects_2ble_2util_2_u_b_l_2soc__8051_2usb__msd_2hal_2hal__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_components_2hal_2target_2_c_c2540_u_s_b_2usb_2library_2cc2540_2usb__suspend_8c_source.html#l00017">17</a> of file <a class="el" href="_components_2hal_2target_2_c_c2540_u_s_b_2usb_2library_2cc2540_2usb__suspend_8c_source.html">usb_suspend.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga51fbf847696a82b9071db3e535a4e9ca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__xdata <a class="el" href="group__module__usb__suspend.html#ga29d700c9829a3cd54d5698072df0815d">VFPTR</a> pFnSuspendExitHook</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_components_2hal_2target_2_c_c2540_u_s_b_2usb_2library_2cc2540_2usb__suspend_8c_source.html#l00017">17</a> of file <a class="el" href="_components_2hal_2target_2_c_c2540_u_s_b_2usb_2library_2cc2540_2usb__suspend_8c_source.html">usb_suspend.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga51fbf847696a82b9071db3e535a4e9ca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__xdata <a class="el" href="group__module__usb__suspend.html#ga29d700c9829a3cd54d5698072df0815d">VFPTR</a> pFnSuspendExitHook</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_components_2hal_2target_2_c_c2540_u_s_b_2usb_2library_2cc2540_2usb__suspend_8c_source.html#l00017">17</a> of file <a class="el" href="_components_2hal_2target_2_c_c2540_u_s_b_2usb_2library_2cc2540_2usb__suspend_8c_source.html">usb_suspend.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sun Aug 3 2014 14:53:52 for TI_BLE by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.7 </li>
  </ul>
</div>
</body>
</html>
